-- Camera Control v2.0 by sherikyt
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local camera = Workspace.CurrentCamera
local mouse = player:GetMouse()

-- Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ GUI
local gui = Instance.new("ScreenGui")
gui.Parent = player:WaitForChild("PlayerGui")

local main = Instance.new("Frame")
main.Size = UDim2.new(0, 250, 0, 280)
main.Position = UDim2.new(0, 10, 0, 10)
main.BackgroundColor3 = Color3.fromRGB(30, 30, 50)
main.BorderSizePixel = 0

-- Ð“Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚Ð½Ñ‹Ð¹ Ñ„Ð¾Ð½
local gradient = Instance.new("UIGradient")
gradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(40, 40, 70)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(60, 40, 90))
})
gradient.Rotation = 45
gradient.Parent = main

Instance.new("UICorner", main).CornerRadius = UDim.new(0, 15)

-- ÐžÐ±Ð²Ð¾Ð´ÐºÐ°
local stroke = Instance.new("UIStroke")
stroke.Color = Color3.fromRGB(100, 100, 255)
stroke.Thickness = 2
stroke.Parent = main

main.Parent = gui

-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 50)
title.BackgroundColor3 = Color3.fromRGB(50, 50, 80)
title.Text = "ðŸ“¸ CAMERA CONTROL\n<font size='12'>by sherikyt</font>"
title.TextColor3 = Color3.white
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.RichText = true
title.TextYAlignment = Enum.TextYAlignment.Center
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 15, 0, 0)
title.Parent = main

-- Ð¡Ñ‡ÐµÑ‚Ñ‡Ð¸Ðº Ð¼ÐµÑ‚Ð¾Ðº
local counter = Instance.new("TextLabel")
counter.Size = UDim2.new(1, 0, 0, 40)
counter.Position = UDim2.new(0, 0, 0.85, 0)
counter.BackgroundTransparency = 1
counter.Text = "ðŸ“ MARKS: 0/10"
counter.TextColor3 = Color3.fromRGB(200, 200, 255)
counter.Font = Enum.Font.Gotham
counter.TextSize = 14
counter.Parent = main

-- Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ ÐºÑ€Ð°ÑÐ¸Ð²Ñ‹Ðµ ÐºÐ½Ð¾Ð¿ÐºÐ¸
local buttonData = {
    {name="Free", text="FREE CAMERA", color=Color3.fromRGB(70, 130, 200), icon="ðŸ›¸"},
    {name="Mark", text="PLACE MARK", color=Color3.fromRGB(60, 200, 100), icon="ðŸ“"},
    {name="View", text="VIEW MARKS", color=Color3.fromRGB(255, 165, 50), icon="ðŸ‘ï¸"},
    {name="Clear", text="CLEAR ALL", color=Color3.fromRGB(220, 60, 60), icon="ðŸ—‘ï¸"}
}

for i, btn in pairs(buttonData) do
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0.9, 0, 0, 50)
    button.Position = UDim2.new(0.05, 0, 0.18 + (i-1)*0.18, 0)
    button.BackgroundColor3 = btn.color
    button.Text = btn.icon .. " " .. btn.text
    button.TextColor3 = Color3.white
    button.Font = Enum.Font.GothamBold
    button.TextSize = 14
    button.AutoButtonColor = false
    
    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 10)
    btnCorner.Parent = button
    
    local btnStroke = Instance.new("UIStroke")
    btnStroke.Color = Color3.fromRGB(255, 255, 255)
    btnStroke.Thickness = 1
    btnStroke.Transparency = 0.3
    btnStroke.Parent = button
    
    -- Ð­Ñ„Ñ„ÐµÐºÑ‚Ñ‹ Ð½Ð°Ð²ÐµÐ´ÐµÐ½Ð¸Ñ
    local originalColor = btn.color
    button.MouseEnter:Connect(function()
        button.BackgroundColor3 = originalColor * 1.2
    end)
    
    button.MouseLeave:Connect(function()
        button.BackgroundColor3 = originalColor
    end)
    
    button.MouseButton1Down:Connect(function()
        button.BackgroundColor3 = originalColor * 0.7
    end)
    
    button.MouseButton1Up:Connect(function()
        button.BackgroundColor3 = originalColor * 1.2
    end)
    
    button.Parent = main
end

-- Ð¡Ñ‚ÐµÐ¹Ñ‚Ñ‹
local marks = {}
local freeCam = false
local viewMode = false
local currentMark = 0
local camYaw = 0
local camPitch = 0
local move = {W=false,A=false,S=false,D=false,Q=false,E=false}
local speed = 25
local speedLabel

-- Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ° ÑÐºÐ¾Ñ€Ð¾ÑÑ‚Ð¸
local function createSpeedUI()
    local speedPanel = Instance.new("Frame")
    speedPanel.Size = UDim2.new(0, 200, 0, 40)
    speedPanel.Position = UDim2.new(0, 10, 1, 10)
    speedPanel.BackgroundColor3 = Color3.fromRGB(30, 30, 50)
    speedPanel.BorderSizePixel = 0
    Instance.new("UICorner", speedPanel).CornerRadius = UDim.new(0, 10)
    
    local gradient2 = Instance.new("UIGradient")
    gradient2.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(40, 40, 70)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(60, 40, 90))
    })
    gradient2.Rotation = 45
    gradient2.Parent = speedPanel
    
    speedLabel = Instance.new("TextLabel")
    speedLabel.Size = UDim2.new(1, 0, 1, 0)
    speedLabel.BackgroundTransparency = 1
    speedLabel.Text = "âš¡ SPEED: " .. speed
    speedLabel.TextColor3 = Color3.fromRGB(200, 200, 255)
    speedLabel.Font = Enum.Font.GothamBold
    speedLabel.TextSize = 14
    speedLabel.Parent = speedPanel
    
    speedPanel.Parent = gui
    return speedPanel
end

local speedPanel = createSpeedUI()

-- Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸
local function updateCounter()
    counter.Text = "ðŸ“ MARKS: "..#marks.."/10"
end

local function createMarker(pos)
    if #marks >= 10 then 
        counter.Text = "âŒ MAX MARKS REACHED"
        return 
    end
    
    local m = Instance.new("Part")
    m.Size = Vector3.new(2, 3, 2)
    m.Position = pos
    m.Anchored = true
    m.CanCollide = false
    m.Material = EnumMaterial.Neon
    m.Color = Color3.fromHSV(#marks/10, 1, 1)
    m.Transparency = 0.3
    
    -- ÐÐ¾Ð¼ÐµÑ€ Ð¼Ð°Ñ€ÐºÐµÑ€Ð°
    local billboard = Instance.new("BillboardGui")
    billboard.Size = UDim2.new(0, 50, 0, 50)
    billboard.AlwaysOnTop = true
    billboard.Parent = m
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, 0, 1, 0)
    label.BackgroundTransparency = 1
    label.Text = tostring(#marks + 1)
    label.TextColor3 = Color3.white
    label.Font = Enum.Font.GothamBold
    label.TextSize = 20
    label.Parent = billboard
    
    m.Parent = Workspace
    marks[#marks+1] = {position=pos, part=m}
    updateCounter()
end

local function clearMarks()
    for _, mark in pairs(marks) do
        if mark.part then
            mark.part:Destroy()
        end
    end
    marks = {}
    currentMark = 0
    updateCounter()
end

local function viewMark(index)
    if #marks == 0 then return end
    currentMark = math.clamp(index, 1, #marks)
    local mark = marks[currentMark]
    camera.CFrame = CFrame.new(mark.position + Vector3.new(0, 5, 10), mark.position)
end

local function toggleFreeCam()
    freeCam = not freeCam
    viewMode = false
    
    if freeCam then
        camera.CameraType = Enum.CameraType.Scriptable
        main.Free.Text = "ðŸ›¸ EXIT FREE CAM"
        counter.Text = "ðŸ›¸ FLYING MODE | MARKS: "..#marks.."/10"
    else
        camera.CameraType = Enum.CameraType.Custom
        main.Free.Text = "ðŸ›¸ FREE CAMERA"
        updateCounter()
    end
end

local function toggleView()
    if #marks == 0 then 
        counter.Text = "âŒ NO MARKS PLACED"
        return 
    end
    
    viewMode = not viewMode
    freeCam = false
    
    if viewMode then
        camera.CameraType = Enum.CameraType.Scriptable
        viewMark(1)
        main.View.Text = "ðŸ‘ï¸ EXIT VIEW"
        counter.Text = "ðŸ‘ï¸ VIEWING MARK "..currentMark.."/"..#marks
    else
        camera.CameraType = Enum.CameraType.Custom
        main.View.Text = "ðŸ‘ï¸ VIEW MARKS"
        updateCounter()
    end
end

-- ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¸ ÐºÐ½Ð¾Ð¿Ð¾Ðº
main.Free.MouseButton1Click:Connect(toggleFreeCam)

main.Mark.MouseButton1Click:Connect(function() 
    if freeCam then 
        createMarker(camera.CFrame.Position) 
    end 
end)

main.View.MouseButton1Click:Connect(function()
    toggleView()
end)

main.Clear.MouseButton1Click:Connect(clearMarks)

-- ÐšÐ»Ð°Ð²Ð¸ÑˆÐ¸
UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.F then toggleFreeCam()
    elseif input.KeyCode == Enum.KeyCode.M and freeCam then createMarker(camera.CFrame.Position)
    elseif input.KeyCode == Enum.KeyCode.V then toggleView()
    elseif input.KeyCode == Enum.KeyCode.C then clearMarks()
    elseif input.KeyCode == Enum.KeyCode.LeftBracket then 
        speed = math.max(10, speed-5)
        if speedLabel then speedLabel.Text = "âš¡ SPEED: " .. speed end
    elseif input.KeyCode == Enum.KeyCode.RightBracket then 
        speed = math.min(50, speed+5)
        if speedLabel then speedLabel.Text = "âš¡ SPEED: " .. speed end
    end
    
    if freeCam then
        if input.KeyCode == Enum.KeyCode.W then move.W = true
        elseif input.KeyCode == Enum.KeyCode.A then move.A = true
        elseif input.KeyCode == Enum.KeyCode.S then move.S = true
        elseif input.KeyCode == Enum.KeyCode.D then move.D = true
        elseif input.KeyCode == Enum.KeyCode.Q then move.Q = true
        elseif input.KeyCode == Enum.KeyCode.E then move.E = true
        end
    end
end)

UserInputService.InputEnded:Connect(function(input)
    if freeCam then
        if input.KeyCode == Enum.KeyCode.W then move.W = false
        elseif input.KeyCode == Enum.KeyCode.A then move.A = false
        elseif input.KeyCode == Enum.KeyCode.S then move.S = false
        elseif input.KeyCode == Enum.KeyCode.D then move.D = false
        elseif input.KeyCode == Enum.KeyCode.Q then move.Q = false
        elseif input.KeyCode == Enum.KeyCode.E then move.E = false
        end
    end
end)

-- Ð’Ñ€Ð°Ñ‰ÐµÐ½Ð¸Ðµ Ð¼Ñ‹ÑˆÑŒÑŽ
local lastMousePos
UserInputService.InputChanged:Connect(function(input)
    if freeCam and input.UserInputType == Enum.UserInputType.MouseMovement then
        if UserInputService:IsMouseButtonPressed(Enum.UserInputType.MouseButton2) then
            if not lastMousePos then 
                lastMousePos = input.Position 
                return 
            end
            
            local delta = input.Position - lastMousePos
            camYaw = camYaw - delta.X * 0.003
            camPitch = camPitch - delta.Y * 0.003
            camPitch = math.clamp(camPitch, -1.5, 1.5)
            lastMousePos = input.Position
        else 
            lastMousePos = nil 
        end
    end
end)

-- ÐšÐ¾Ð»ÐµÑÐ¸ÐºÐ¾ Ð¼Ñ‹ÑˆÐ¸
mouse.WheelForward:Connect(function() 
    if freeCam then 
        speed = math.min(50, speed+5) 
        if speedLabel then speedLabel.Text = "âš¡ SPEED: " .. speed end
    end 
end)

mouse.WheelBackward:Connect(function() 
    if freeCam then 
        speed = math.max(10, speed-5) 
        if speedLabel then speedLabel.Text = "âš¡ SPEED: " .. speed end
    end 
end)

-- Ð“Ð»Ð°Ð²Ð½Ñ‹Ð¹ Ñ†Ð¸ÐºÐ»
RunService.Heartbeat:Connect(function(dt)
    if freeCam then
        local rot = CFrame.fromOrientation(camPitch, camYaw, 0)
        local moveVec = Vector3.new(0,0,0)
        
        if move.W then moveVec = moveVec + Vector3.new(0,0,-1) end
        if move.S then moveVec = moveVec + Vector3.new(0,0,1) end
        if move.D then moveVec = moveVec + Vector3.new(1,0,0) end
        if move.A then moveVec = moveVec + Vector3.new(-1,0,0) end
        if move.E then moveVec = moveVec + Vector3.new(0,1,0) end
        if move.Q then moveVec = moveVec + Vector3.new(0,-1,0) end
        
        if moveVec.Magnitude > 0 then
            moveVec = moveVec.Unit * speed * dt
            local rotated = rot:VectorToWorldSpace(moveVec)
            camera.CFrame = rot + camera.CFrame.Position + rotated
        else
            camera.CFrame = rot + camera.CFrame.Position
        end
        camera.FieldOfView = 70
        
    elseif viewMode and #marks > 0 then
        local mark = marks[currentMark]
        if mark then
            local time = tick()
            local orbitRadius = 12
            local height = 4
            
            local x = math.cos(time * 0.5) * orbitRadius
            local z = math.sin(time * 0.5) * orbitRadius
            
            local target = mark.position + Vector3.new(x, height, z)
            camera.CFrame = camera.CFrame:Lerp(CFrame.new(target, mark.position), 5*dt)
            camera.FieldOfView = 60
            
            -- ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ Ñ‚ÐµÐºÑÑ‚ Ð² Ñ€ÐµÐ¶Ð¸Ð¼Ðµ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð°
            counter.Text = "ðŸ‘ï¸ VIEWING MARK "..currentMark.."/"..#marks
        end
    end
end)

-- Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ ÐºÐ½Ð¾Ð¿ÐºÐ¸ Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ð¸ Ð² Ñ€ÐµÐ¶Ð¸Ð¼Ðµ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð°
local navFrame = Instance.new("Frame")
navFrame.Size = UDim2.new(0, 200, 0, 50)
navFrame.Position = UDim2.new(0, 10, 0, 300)
navFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 50)
navFrame.BackgroundTransparency = 0.5
navFrame.BorderSizePixel = 0
navFrame.Visible = false
Instance.new("UICorner", navFrame).CornerRadius = UDim.new(0, 10)
navFrame.Parent = gui

local prevBtn = Instance.new("TextButton")
prevBtn.Size = UDim2.new(0.4, 0, 0.7, 0)
prevBtn.Position = UDim2.new(0.05, 0, 0.15, 0)
prevBtn.BackgroundColor3 = Color3.fromRGB(70, 130, 200)
prevBtn.Text = "â—€ PREV"
prevBtn.TextColor3 = Color3.white
prevBtn.Font = Enum.Font.GothamBold
prevBtn.TextSize = 12
prevBtn.Visible = false
prevBtn.AutoButtonColor = false
Instance.new("UICorner", prevBtn).CornerRadius = UDim.new(0, 8)
prevBtn.Parent = navFrame

local nextBtn = Instance.new("TextButton")
nextBtn.Size = UDim2.new(0.4, 0, 0.7, 0)
nextBtn.Position = UDim2.new(0.55, 0, 0.15, 0)
nextBtn.BackgroundColor3 = Color3.fromRGB(70, 130, 200)
nextBtn.Text = "NEXT â–¶"
nextBtn.TextColor3 = Color3.white
nextBtn.Font = Enum.Font.GothamBold
nextBtn.TextSize = 12
nextBtn.Visible = false
nextBtn.AutoButtonColor = false
Instance.new("UICorner", nextBtn).CornerRadius = UDim.new(0, 8)
nextBtn.Parent = navFrame

-- ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÐ¼/ÑÐºÑ€Ñ‹Ð²Ð°ÐµÐ¼ Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸ÑŽ Ð¿Ñ€Ð¸ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ð¸ Ñ€ÐµÐ¶Ð¸Ð¼Ð°
local function updateNavigation()
    navFrame.Visible = viewMode
    prevBtn.Visible = viewMode and currentMark > 1
    nextBtn.Visible = viewMode and currentMark < #marks
end

prevBtn.MouseButton1Click:Connect(function()
    if currentMark > 1 then
        currentMark = currentMark - 1
        viewMark(currentMark)
        updateNavigation()
    end
end)

nextBtn.MouseButton1Click:Connect(function()
    if currentMark < #marks then
        currentMark = currentMark + 1
        viewMark(currentMark)
        updateNavigation()
    end
end)

-- ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸ÑŽ Ð¿Ñ€Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸
RunService.Heartbeat:Connect(function()
    if viewMode then
        updateNavigation()
    end
end)

print("âœ… Camera Control v2.0 by sherikyt loaded!")
print("F - Free Camera")
print("M - Place Mark (in free cam)")
print("V - View Marks")
print("C - Clear All")
print("WASD + QE - Movement")
print("RMB - Rotate camera")
print("Mouse wheel - Speed")
