-- ðŸš€ Flight System by sherikyt
local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local RS = game:GetService("RunService")

local player = Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local humanoid = char:WaitForChild("Humanoid")
local hrp = char:WaitForChild("HumanoidRootPart")

local flySpeed = 50
local isFlying = false
local flightCon, flyBV, flyBG

local gui = Instance.new("ScreenGui")
gui.Name = "FlightUI"
gui.Parent = player.PlayerGui
gui.ResetOnSpawn = false

local main = Instance.new("Frame")
main.Name = "Main"
main.Size = UDim2.new(0, 180, 0, 400)
main.Position = UDim2.new(0, 10, 0.5, -200)
main.BackgroundColor3 = Color3.fromRGB(30, 30, 45)
main.BackgroundTransparency = 0.2
main.ClipsDescendants = true
main.Parent = gui
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 12)

local header = Instance.new("Frame")
header.Name = "Header"
header.Size = UDim2.new(1, 0, 0, 40)
header.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
header.BackgroundTransparency = 0.3
header.Parent = main
Instance.new("UICorner", header).CornerRadius = UDim.new(0, 12)

local title = Instance.new("TextLabel")
title.Name = "Title"
title.Size = UDim2.new(1, -10, 1, 0)
title.Position = UDim2.new(0, 10, 0, 0)
title.BackgroundTransparency = 1
title.Text = "ðŸ›¸ Flight"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = header

local closeBtn = Instance.new("TextButton")
closeBtn.Name = "CloseBtn"
closeBtn.Size = UDim2.new(0, 30, 0, 30)
closeBtn.Position = UDim2.new(1, -35, 0, 5)
closeBtn.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
closeBtn.Text = "âœ•"
closeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 18
closeBtn.Parent = header
Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(1, 0)

local creator = Instance.new("TextLabel")
creator.Name = "Creator"
creator.Size = UDim2.new(1, -20, 0, 20)
creator.Position = UDim2.new(0, 10, 0, 45)
creator.BackgroundTransparency = 1
creator.Text = "by sherikyt"
creator.TextColor3 = Color3.fromRGB(180, 180, 255)
creator.Font = Enum.Font.Gotham
creator.TextSize = 12
creator.TextXAlignment = Enum.TextXAlignment.Left
creator.Parent = main

local speedFrame = Instance.new("Frame")
speedFrame.Name = "SpeedFrame"
speedFrame.Size = UDim2.new(0.85, 0, 0, 50)
speedFrame.Position = UDim2.new(0.075, 0, 0, 75)
speedFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
speedFrame.BackgroundTransparency = 0.3
speedFrame.Parent = main
Instance.new("UICorner", speedFrame).CornerRadius = UDim.new(0, 10)

local speedText = Instance.new("TextLabel")
speedText.Name = "SpeedText"
speedText.Size = UDim2.new(1, 0, 1, 0)
speedText.BackgroundTransparency = 1
speedText.Text = "SPEED: " .. flySpeed
speedText.TextColor3 = Color3.fromRGB(255, 255, 255)
speedText.Font = Enum.Font.GothamBold
speedText.TextSize = 16
speedText.Parent = speedFrame

local controlsContainer = Instance.new("Frame")
controlsContainer.Name = "ControlsContainer"
controlsContainer.Size = UDim2.new(0.85, 0, 0, 200)
controlsContainer.Position = UDim2.new(0.075, 0, 0, 140)
controlsContainer.BackgroundTransparency = 1
controlsContainer.Parent = main

local flightBtns = {}
local btnData = {
    {name = "W", text = "W", pos = UDim2.new(0.33, 0, 0, 0), action = "forward"},
    {name = "A", text = "A", pos = UDim2.new(0, 0, 0.5, 0), action = "left"},
    {name = "S", text = "S", pos = UDim2.new(0.33, 0, 0.5, 0), action = "back"},
    {name = "D", text = "D", pos = UDim2.new(0.66, 0, 0.5, 0), action = "right"},
    {name = "Space", text = "â†‘", pos = UDim2.new(0.33, 0, 1, -40), action = "up"},
    {name = "Ctrl", text = "â†“", pos = UDim2.new(0.66, 0, 1, -40), action = "down"}
}

for i, data in ipairs(btnData) do
    local btn = Instance.new("TextButton")
    btn.Name = data.name
    btn.Size = UDim2.new(0, 40, 0, 40)
    btn.Position = data.pos
    btn.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
    btn.Text = data.text
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 16
    btn.Parent = controlsContainer
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 8)
    
    flightBtns[data.action] = btn
end

local controlRow = Instance.new("Frame")
controlRow.Name = "ControlRow"
controlRow.Size = UDim2.new(0.85, 0, 0, 50)
controlRow.Position = UDim2.new(0.075, 0, 0, 350)
controlRow.BackgroundTransparency = 1
controlRow.Parent = main

local increaseBtn = Instance.new("TextButton")
increaseBtn.Name = "IncreaseBtn"
increaseBtn.Size = UDim2.new(0, 40, 0, 40)
increaseBtn.Position = UDim2.new(0, 0, 0, 5)
increaseBtn.BackgroundColor3 = Color3.fromRGB(40, 180, 40)
increaseBtn.Text = "+"
increaseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
increaseBtn.Font = Enum.Font.GothamBold
increaseBtn.TextSize = 20
increaseBtn.Parent = controlRow
Instance.new("UICorner", increaseBtn).CornerRadius = UDim.new(0, 8)

local decreaseBtn = Instance.new("TextButton")
decreaseBtn.Name = "DecreaseBtn"
decreaseBtn.Size = UDim2.new(0, 40, 0, 40)
decreaseBtn.Position = UDim2.new(0.3, 0, 0, 5)
decreaseBtn.BackgroundColor3 = Color3.fromRGB(220, 40, 40)
decreaseBtn.Text = "-"
decreaseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
decreaseBtn.Font = Enum.Font.GothamBold
decreaseBtn.TextSize = 20
decreaseBtn.Parent = controlRow
Instance.new("UICorner", decreaseBtn).CornerRadius = UDim.new(0, 8)

local flyToggleBtn = Instance.new("TextButton")
flyToggleBtn.Name = "FlyToggleBtn"
flyToggleBtn.Size = UDim2.new(0, 80, 0, 40)
flyToggleBtn.Position = UDim2.new(0.6, 0, 0, 5)
flyToggleBtn.BackgroundColor3 = Color3.fromRGB(60, 100, 220)
flyToggleBtn.Text = "ðŸ›¸ FLY"
flyToggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
flyToggleBtn.Font = Enum.Font.GothamBold
flyToggleBtn.TextSize = 14
flyToggleBtn.Parent = controlRow
Instance.new("UICorner", flyToggleBtn).CornerRadius = UDim.new(0, 8)

local statusIndicator = Instance.new("Frame")
statusIndicator.Name = "StatusIndicator"
statusIndicator.Size = UDim2.new(0, 10, 0, 10)
statusIndicator.Position = UDim2.new(0.85, 0, 0, 10)
statusIndicator.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
statusIndicator.Parent = header
Instance.new("UICorner", statusIndicator).CornerRadius = UDim.new(1, 0)

local function updateFlightStatus()
    if isFlying then
        flyToggleBtn.Text = "ðŸ›¸ ON"
        flyToggleBtn.BackgroundColor3 = Color3.fromRGB(40, 180, 40)
        statusIndicator.BackgroundColor3 = Color3.fromRGB(50, 255, 50)
    else
        flyToggleBtn.Text = "ðŸ›¸ FLY"
        flyToggleBtn.BackgroundColor3 = Color3.fromRGB(60, 100, 220)
        statusIndicator.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
    end
end

local function startFlying()
    if not char or not hrp then return end
    
    humanoid.PlatformStand = true
    isFlying = true
    updateFlightStatus()
    
    flyBG = Instance.new("BodyGyro")
    flyBG.Name = "FlightGyro"
    flyBG.P = 10000
    flyBG.D = 1000
    flyBG.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
    flyBG.CFrame = hrp.CFrame
    flyBG.Parent = hrp
    
    flyBV = Instance.new("BodyVelocity")
    flyBV.Name = "FlightVelocity"
    flyBV.Velocity = Vector3.new(0, 0, 0)
    flyBV.MaxForce = Vector3.new(100000, 100000, 100000)
    flyBV.P = 1250
    flyBV.Parent = hrp
    
    flightCon = RS.Heartbeat:Connect(function()
        if not isFlying or not flyBG or not flyBV or not hrp then return end
        
        local camera = workspace.CurrentCamera
        local moveDir = Vector3.new(0, 0, 0)
        local lookVec = camera.CFrame.LookVector
        local rightVec = camera.CFrame.RightVector
        
        if flightBtns.forward and flightBtns.forward.Active then
            moveDir = moveDir + lookVec
        end
        if flightBtns.back and flightBtns.back.Active then
            moveDir = moveDir - lookVec
        end
        if flightBtns.right and flightBtns.right.Active then
            moveDir = moveDir + rightVec
        end
        if flightBtns.left and flightBtns.left.Active then
            moveDir = moveDir - rightVec
        end
        if flightBtns.up and flightBtns.up.Active then
            moveDir = moveDir + Vector3.new(0, 1, 0)
        end
        if flightBtns.down and flightBtns.down.Active then
            moveDir = moveDir - Vector3.new(0, 1, 0)
        end
        
        if moveDir.Magnitude > 0 then
            moveDir = moveDir.Unit
        end
        
        flyBV.Velocity = moveDir * flySpeed
        flyBG.CFrame = CFrame.new(hrp.Position, hrp.Position + lookVec)
    end)
end

local function stopFlying()
    isFlying = false
    updateFlightStatus()
    
    if flightCon then
        flightCon:Disconnect()
        flightCon = nil
    end
    
    humanoid.PlatformStand = false
    
    if flyBG then flyBG:Destroy() end
    if flyBV then flyBV:Destroy() end
end

local function toggleFlying()
    if isFlying then
        stopFlying()
    else
        startFlying()
    end
end

for action, btn in pairs(flightBtns) do
    btn.MouseButton1Down:Connect(function()
        btn.Active = true
        btn.BackgroundColor3 = Color3.fromRGB(80, 80, 100)
    end)
    
    btn.MouseButton1Up:Connect(function()
        btn.Active = false
        btn.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
    end)
    
    btn.MouseLeave:Connect(function()
        btn.Active = false
        btn.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
    end)
end

increaseBtn.MouseButton1Click:Connect(function()
    flySpeed = math.min(flySpeed + 10, 200)
    speedText.Text = "SPEED: " .. flySpeed
    speedText.TextSize = 20
    wait(0.1)
    speedText.TextSize = 16
end)

decreaseBtn.MouseButton1Click:Connect(function()
    flySpeed = math.max(flySpeed - 10, 10)
    speedText.Text = "SPEED: " .. flySpeed
    speedText.TextSize = 20
    wait(0.1)
    speedText.TextSize = 16
end)

flyToggleBtn.MouseButton1Click:Connect(toggleFlying)

closeBtn.MouseButton1Click:Connect(function()
    main.Visible = false
end)

local minimizedBtn = Instance.new("TextButton")
minimizedBtn.Name = "MinimizedBtn"
minimizedBtn.Size = UDim2.new(0, 50, 0, 50)
minimizedBtn.Position = UDim2.new(0, 10, 0, 10)
minimizedBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
minimizedBtn.BackgroundTransparency = 0.3
minimizedBtn.Visible = false
minimizedBtn.Text = "ðŸ›¸"
minimizedBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
minimizedBtn.Font = Enum.Font.GothamBold
minimizedBtn.TextSize = 20
minimizedBtn.Parent = gui
Instance.new("UICorner", minimizedBtn).CornerRadius = UDim.new(0, 10)

closeBtn.MouseButton1Click:Connect(function()
    main.Visible = false
    minimizedBtn.Visible = true
end)

minimizedBtn.MouseButton1Click:Connect(function()
    main.Visible = true
    minimizedBtn.Visible = false
end)

UIS.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed and isFlying then
        if input.KeyCode == Enum.KeyCode.W and flightBtns.forward then
            flightBtns.forward.Active = true
            flightBtns.forward.BackgroundColor3 = Color3.fromRGB(80, 80, 100)
        elseif input.KeyCode == Enum.KeyCode.S and flightBtns.back then
            flightBtns.back.Active = true
            flightBtns.back.BackgroundColor3 = Color3.fromRGB(80, 80, 100)
        elseif input.KeyCode == Enum.KeyCode.A and flightBtns.left then
            flightBtns.left.Active = true
            flightBtns.left.BackgroundColor3 = Color3.fromRGB(80, 80, 100)
        elseif input.KeyCode == Enum.KeyCode.D and flightBtns.right then
            flightBtns.right.Active = true
            flightBtns.right.BackgroundColor3 = Color3.fromRGB(80, 80, 100)
        elseif input.KeyCode == Enum.KeyCode.Space and flightBtns.up then
            flightBtns.up.Active = true
            flightBtns.up.BackgroundColor3 = Color3.fromRGB(80, 80, 100)
        elseif input.KeyCode == Enum.KeyCode.LeftControl and flightBtns.down then
            flightBtns.down.Active = true
            flightBtns.down.BackgroundColor3 = Color3.fromRGB(80, 80, 100)
        end
    end
end)

UIS.InputEnded:Connect(function(input, gameProcessed)
    if not gameProcessed then
        if input.KeyCode == Enum.KeyCode.W and flightBtns.forward then
            flightBtns.forward.Active = false
            flightBtns.forward.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
        elseif input.KeyCode == Enum.KeyCode.S and flightBtns.back then
            flightBtns.back.Active = false
            flightBtns.back.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
        elseif input.KeyCode == Enum.KeyCode.A and flightBtns.left then
            flightBtns.left.Active = false
            flightBtns.left.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
        elseif input.KeyCode == Enum.KeyCode.D and flightBtns.right then
            flightBtns.right.Active = false
            flightBtns.right.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
        elseif input.KeyCode == Enum.KeyCode.Space and flightBtns.up then
            flightBtns.up.Active = false
            flightBtns.up.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
        elseif input.KeyCode == Enum.KeyCode.LeftControl and flightBtns.down then
            flightBtns.down.Active = false
            flightBtns.down.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
        end
    end
end)

player.CharacterAdded:Connect(function(newChar)
    char = newChar
    humanoid = char:WaitForChild("Humanoid")
    hrp = char:WaitForChild("HumanoidRootPart")
    stopFlying()
end)

humanoid.Died:Connect(stopFlying)

closeBtn.MouseEnter:Connect(function()
    closeBtn.BackgroundColor3 = Color3.fromRGB(255, 120, 120)
end)

closeBtn.MouseLeave:Connect(function()
    closeBtn.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
end)

increaseBtn.MouseEnter:Connect(function()
    increaseBtn.BackgroundColor3 = Color3.fromRGB(60, 220, 60)
end)

increaseBtn.MouseLeave:Connect(function()
    increaseBtn.BackgroundColor3 = Color3.fromRGB(40, 180, 40)
end)

decreaseBtn.MouseEnter:Connect(function()
    decreaseBtn.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
end)

decreaseBtn.MouseLeave:Connect(function()
    decreaseBtn.BackgroundColor3 = Color3.fromRGB(220, 40, 40)
end)

flyToggleBtn.MouseEnter:Connect(function()
    if isFlying then
        flyToggleBtn.BackgroundColor3 = Color3.fromRGB(60, 220, 60)
    else
        flyToggleBtn.BackgroundColor3 = Color3.fromRGB(80, 120, 240)
    end
end)

flyToggleBtn.MouseLeave:Connect(function()
    if isFlying then
        flyToggleBtn.BackgroundColor3 = Color3.fromRGB(40, 180, 40)
    else
        flyToggleBtn.BackgroundColor3 = Color3.fromRGB(60, 100, 220)
    end
end)

updateFlightStatus()

local dragging = false
local dragStart = Vector2.new(0, 0)
local frameStart = Vector2.new(0, 0)

header.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = Vector2.new(input.Position.X, input.Position.Y)
        frameStart = Vector2.new(main.Position.X.Offset, main.Position.Y.Offset)
        header.BackgroundTransparency = 0.5
    end
end)

UIS.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local mousePos = Vector2.new(input.Position.X, input.Position.Y)
        local delta = mousePos - dragStart
        main.Position = UDim2.new(0, frameStart.X + delta.X, 0, frameStart.Y + delta.Y)
    end
end)

UIS.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
        header.BackgroundTransparency = 0.3
    end
end)

print("ðŸš€ Flight System by sherikyt loaded!")
print("ðŸ›¸ Left-corner UI with basic controls")
print("ðŸŽ® Use buttons or WASD+Space+Ctrl to fly")
