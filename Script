-- BlackHole Cheat by sherikyt
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

local config = {
    force = 5000,
    radius = 50,
    distance = 500, -- Increased to cover whole map
    rotation = 50,
    pullSpeed = 100
}

local state = {
    active = false,
    position = nil,
    parts = {},
    connection = nil,
    core = nil,
    menuVisible = true
}

-- Create GUI
local gui = Instance.new("ScreenGui")
gui.Name = "BlackHoleGUI"
gui.ResetOnSpawn = false
gui.Parent = playerGui

-- Main menu
local menu = Instance.new("Frame")
menu.Name = "MainMenu"
menu.Size = UDim2.new(0, 220, 0, 280)
menu.Position = UDim2.new(0, 10, 0.5, -140)
menu.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
menu.BackgroundTransparency = 0.1
menu.Parent = gui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = menu

-- Title
local title = Instance.new("TextLabel")
title.Name = "Title"
title.Size = UDim2.new(1, -10, 0, 30)
title.Position = UDim2.new(0, 10, 0, 5)
title.BackgroundTransparency = 1
title.Text = "BLACK HOLE"
title.TextColor3 = Color3.fromRGB(255, 100, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = menu

local creator = Instance.new("TextLabel")
creator.Name = "Creator"
creator.Size = UDim2.new(1, -10, 0, 20)
creator.Position = UDim2.new(0, 10, 0, 35)
creator.BackgroundTransparency = 1
creator.Text = "by sherikyt"
creator.TextColor3 = Color3.fromRGB(180, 180, 220)
creator.Font = Enum.Font.Gotham
creator.TextSize = 12
creator.TextXAlignment = Enum.TextXAlignment.Left
creator.Parent = menu

-- Function to create button
local function createButton(name, text, position, icon, color)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Size = UDim2.new(0.9, 0, 0, 35)
    button.Position = position
    button.BackgroundColor3 = color
    button.Text = icon .. " " .. text
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Font = Enum.Font.GothamBold
    button.TextSize = 12
    button.TextWrapped = true
    button.Parent = menu
    
    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 8)
    btnCorner.Parent = button
    
    button.MouseButton1Down:Connect(function()
        button.BackgroundTransparency = 0.3
    end)
    
    button.MouseButton1Up:Connect(function()
        button.BackgroundTransparency = 0
    end)
    
    return button
end

-- Create buttons
local selectBtn = createButton(
    "SelectBtn",
    "SELECT POSITION",
    UDim2.new(0.05, 0, 0, 60),
    "üìç",
    Color3.fromRGB(0, 120, 255)
)

local blackholeBtn = createButton(
    "BlackholeBtn",
    "BLACK HOLE",
    UDim2.new(0.05, 0, 0, 105),
    "üåå",
    Color3.fromRGB(150, 0, 255)
)

-- Sliders container
local slidersFrame = Instance.new("Frame")
slidersFrame.Name = "SlidersFrame"
slidersFrame.Size = UDim2.new(0.9, 0, 0, 100)
slidersFrame.Position = UDim2.new(0.05, 0, 0, 150)
slidersFrame.BackgroundTransparency = 1
slidersFrame.Parent = menu

-- Force slider
local forceLabel = Instance.new("TextLabel")
forceLabel.Name = "ForceLabel"
forceLabel.Size = UDim2.new(1, 0, 0, 20)
forceLabel.Position = UDim2.new(0, 0, 0, 0)
forceLabel.BackgroundTransparency = 1
forceLabel.Text = "FORCE: " .. config.force
forceLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
forceLabel.Font = Enum.Font.Gotham
forceLabel.TextSize = 11
forceLabel.TextXAlignment = Enum.TextXAlignment.Left
forceLabel.Parent = slidersFrame

local forceSlider = Instance.new("Frame")
forceSlider.Name = "ForceSlider"
forceSlider.Size = UDim2.new(1, 0, 0, 20)
forceSlider.Position = UDim2.new(0, 0, 0, 20)
forceSlider.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
forceSlider.Parent = slidersFrame
Instance.new("UICorner", forceSlider).CornerRadius = UDim.new(0, 10)

local forceFill = Instance.new("Frame")
forceFill.Name = "ForceFill"
forceFill.Size = UDim2.new(config.force / 10000, 0, 1, 0)
forceFill.BackgroundColor3 = Color3.fromRGB(0, 200, 100)
forceFill.Parent = forceSlider
Instance.new("UICorner", forceFill).CornerRadius = UDim.new(0, 10)

local forceHandle = Instance.new("TextButton")
forceHandle.Name = "ForceHandle"
forceHandle.Size = UDim2.new(0, 20, 0, 20)
forceHandle.Position = UDim2.new(config.force / 10000, -10, 0, 0)
forceHandle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
forceHandle.Text = ""
forceHandle.Parent = forceSlider
Instance.new("UICorner", forceHandle).CornerRadius = UDim.new(1, 0)

-- Radius slider
local radiusLabel = Instance.new("TextLabel")
radiusLabel.Name = "RadiusLabel"
radiusLabel.Size = UDim2.new(1, 0, 0, 20)
radiusLabel.Position = UDim2.new(0, 0, 0, 50)
radiusLabel.BackgroundTransparency = 1
radiusLabel.Text = "RADIUS: " .. config.radius
radiusLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
radiusLabel.Font = Enum.Font.Gotham
radiusLabel.TextSize = 11
radiusLabel.TextXAlignment = Enum.TextXAlignment.Left
radiusLabel.Parent = slidersFrame

local radiusSlider = Instance.new("Frame")
radiusSlider.Name = "RadiusSlider"
radiusSlider.Size = UDim2.new(1, 0, 0, 20)
radiusSlider.Position = UDim2.new(0, 0, 0, 70)
radiusSlider.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
radiusSlider.Parent = slidersFrame
Instance.new("UICorner", radiusSlider).CornerRadius = UDim.new(0, 10)

local radiusFill = Instance.new("Frame")
radiusFill.Name = "RadiusFill"
radiusFill.Size = UDim2.new(config.radius / 200, 0, 1, 0)
radiusFill.BackgroundColor3 = Color3.fromRGB(100, 0, 200)
radiusFill.Parent = radiusSlider
Instance.new("UICorner", radiusFill).CornerRadius = UDim.new(0, 10)

local radiusHandle = Instance.new("TextButton")
radiusHandle.Name = "RadiusHandle"
radiusHandle.Size = UDim2.new(0, 20, 0, 20)
radiusHandle.Position = UDim2.new(config.radius / 200, -10, 0, 0)
radiusHandle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
radiusHandle.Text = ""
radiusHandle.Parent = radiusSlider
Instance.new("UICorner", radiusHandle).CornerRadius = UDim.new(1, 0)

-- Status
local status = Instance.new("TextLabel")
status.Name = "Status"
status.Size = UDim2.new(0.9, 0, 0, 30)
status.Position = UDim2.new(0.05, 0, 0, 260)
status.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
status.BackgroundTransparency = 0.3
status.Text = "READY"
status.TextColor3 = Color3.fromRGB(255, 255, 255)
status.Font = Enum.Font.Gotham
status.TextSize = 11
status.TextWrapped = true
status.Parent = menu

local statusCorner = Instance.new("UICorner")
statusCorner.CornerRadius = UDim.new(0, 8)
statusCorner.Parent = status

-- Toggle button
local toggleBtn = Instance.new("TextButton")
toggleBtn.Name = "ToggleBtn"
toggleBtn.Size = UDim2.new(0, 40, 0, 40)
toggleBtn.Position = UDim2.new(0, 240, 0.5, -20)
toggleBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
toggleBtn.Text = "‚óÄ"
toggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextSize = 18
toggleBtn.Parent = gui

local toggleCorner = Instance.new("UICorner")
toggleCorner.CornerRadius = UDim.new(1, 0)
toggleCorner.Parent = toggleBtn

-- Black hole functions
local function createMarker(pos)
    local oldMarker = Workspace:FindFirstChild("BH_Marker")
    if oldMarker then
        oldMarker:Destroy()
    end
    
    local marker = Instance.new("Part")
    marker.Name = "BH_Marker"
    marker.Size = Vector3.new(2, 2, 2)
    marker.Position = pos
    marker.Anchored = true
    marker.CanCollide = false
    marker.Color = Color3.fromRGB(0, 200, 255)
    marker.Transparency = 0.3
    marker.Parent = Workspace
    
    return marker
end

local function collectParts()
    state.parts = {}
    
    for _, obj in pairs(Workspace:GetDescendants()) do
        if obj:IsA("BasePart") and not obj.Anchored then
            if obj.Name == "BH_Marker" then
                continue
            end
            
            if player.Character and obj:IsDescendantOf(player.Character) then
                continue
            end
            
            table.insert(state.parts, obj)
        end
    end
    
    return #state.parts
end

local function updatePartPhysics(part)
    if not part or not part.Parent then return end
    
    local dist = (part.Position - state.position).Magnitude
    
    -- Create physics objects
    local velocity = part:FindFirstChild("BH_V") or Instance.new("BodyVelocity")
    local gyro = part:FindFirstChild("BH_G") or Instance.new("BodyGyro")
    
    if not part:FindFirstChild("BH_V") then
        velocity.Name = "BH_V"
        velocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
        velocity.P = 10000
        velocity.Parent = part
        
        gyro.Name = "BH_G"
        gyro.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
        gyro.P = 10000
        gyro.Parent = part
    end
    
    local dir = (state.position - part.Position).Unit
    local force = config.force * (1 - math.min(dist / 1000, 1))
    local tangent = dir:Cross(Vector3.new(0, 1, 0)).Unit
    local orbit = config.rotation * (config.radius / math.max(dist, 1))
    
    -- Different behavior based on distance
    if dist > config.radius * 2 then
        -- Pull from far away
        velocity.Velocity = dir * force * 0.5
    elseif dist > config.radius then
        -- Start orbiting
        velocity.Velocity = dir * force * 0.3 + tangent * orbit
    else
        -- Tight orbit close to center
        velocity.Velocity = tangent * orbit * 2
    end
end

local function toggleBlackHole()
    if not state.position then
        status.Text = "SELECT POSITION FIRST"
        return
    end
    
    if state.active then
        -- Stop
        if state.core then
            state.core:Destroy()
            state.core = nil
        end
        
        if state.connection then
            state.connection:Disconnect()
            state.connection = nil
        end
        
        for _, part in pairs(state.parts) do
            if part and part.Parent then
                local v = part:FindFirstChild("BH_V")
                local g = part:FindFirstChild("BH_G")
                if v then v:Destroy() end
                if g then g:Destroy() end
            end
        end
        
        state.active = false
        state.parts = {}
        blackholeBtn.Text = "üåå BLACK HOLE"
        status.Text = "STOPPED"
        return
    end
    
    -- Start
    local partCount = collectParts()
    if partCount == 0 then
        status.Text = "NO PARTS FOUND"
        return
    end
    
    state.active = true
    blackholeBtn.Text = "‚èπÔ∏è STOP"
    
    -- Create core
    state.core = Instance.new("Part")
    state.core.Name = "BH_Core"
    state.core.Size = Vector3.new(config.radius/10, config.radius/10, config.radius/10)
    state.core.Position = state.position
    state.core.Anchored = true
    state.core.CanCollide = false
    state.core.Color = Color3.fromRGB(0, 0, 0)
    state.core.Transparency = 0.3
    state.core.Parent = Workspace
    
    -- Physics loop
    state.connection = RunService.Heartbeat:Connect(function()
        if not state.active then return end
        
        for _, part in pairs(state.parts) do
            if part and part.Parent then
                updatePartPhysics(part)
            end
        end
    end)
    
    status.Text = "ACTIVE - PARTS: " .. partCount
end

-- Button events
selectBtn.MouseButton1Click:Connect(function()
    local camera = Workspace.CurrentCamera
    if camera and player.Character then
        local hrp = player.Character:FindFirstChild("HumanoidRootPart")
        if hrp then
            state.position = hrp.Position + Vector3.new(0, 2, 0)
            createMarker(state.position)
            status.Text = "POSITION SET"
        end
    end
end)

blackholeBtn.MouseButton1Click:Connect(toggleBlackHole)

-- Slider dragging
local dragging = nil
local function startDrag(slider, handle, minVal, maxVal, updateFunc)
    handle.MouseButton1Down:Connect(function()
        dragging = {slider = slider, handle = handle, min = minVal, max = maxVal, update = updateFunc}
    end)
end

RunService.Heartbeat:Connect(function()
    if dragging then
        local mouse = game:GetService("Players").LocalPlayer:GetMouse()
        local slider = dragging.slider
        local absPos = slider.AbsolutePosition.X
        local absSize = slider.AbsoluteSize.X
        
        local mouseX = mouse.X
        local relative = math.clamp((mouseX - absPos) / absSize, 0, 1)
        
        local value = math.floor(dragging.min + relative * (dragging.max - dragging.min))
        dragging.update(value)
    end
end)

game:GetService("UserInputService").InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = nil
    end
end)

-- Update functions for sliders
local function updateForce(value)
    config.force = value
    forceLabel.Text = "FORCE: " .. value
    forceFill.Size = UDim2.new(value / 10000, 0, 1, 0)
    forceHandle.Position = UDim2.new(value / 10000, -10, 0, 0)
end

local function updateRadius(value)
    config.radius = value
    radiusLabel.Text = "RADIUS: " .. value
    radiusFill.Size = UDim2.new(value / 200, 0, 1, 0)
    radiusHandle.Position = UDim2.new(value / 200, -10, 0, 0)
    
    if state.core then
        state.core.Size = Vector3.new(value/10, value/10, value/10)
    end
end

startDrag(forceSlider, forceHandle, 100, 10000, updateForce)
startDrag(radiusSlider, radiusHandle, 10, 200, updateRadius)

-- Toggle menu
toggleBtn.MouseButton1Click:Connect(function()
    state.menuVisible = not state.menuVisible
    
    if state.menuVisible then
        menu.Position = UDim2.new(0, 10, 0.5, -140)
        toggleBtn.Position = UDim2.new(0, 240, 0.5, -20)
        toggleBtn.Text = "‚óÄ"
    else
        menu.Position = UDim2.new(-1, 0, 0.5, -140)
        toggleBtn.Position = UDim2.new(0, 10, 0.5, -20)
        toggleBtn.Text = "‚ñ∂"
    end
end)

-- Cleanup
gui.Destroying:Connect(function()
    if state.connection then
        state.connection:Disconnect()
    end
    
    local marker = Workspace:FindFirstChild("BH_Marker")
    if marker then
        marker:Destroy()
    end
    
    if state.core then
        state.core:Destroy()
    end
end)

print("BlackHole Cheat by sherikyt loaded")
