-- ShiftLock Cheat by sherikyt
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

local state = {
    shiftLockEnabled = false,
    originalCameraType = nil,
    originalMouseBehavior = nil,
    mouseLocked = false,
    menuVisible = true,
    sensitivity = 0.5,
    fov = 70,
    smoothness = 0.8
}

-- Create GUI
local gui = Instance.new("ScreenGui")
gui.Name = "ShiftLockGUI"
gui.ResetOnSpawn = false
gui.Parent = playerGui

-- Main menu
local menu = Instance.new("Frame")
menu.Name = "MainMenu"
menu.Size = UDim2.new(0, 220, 0, 300)
menu.Position = UDim2.new(0, 10, 0.5, -150)
menu.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
menu.BackgroundTransparency = 0.1
menu.Parent = gui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = menu

-- Title
local title = Instance.new("TextLabel")
title.Name = "Title"
title.Size = UDim2.new(1, -10, 0, 30)
title.Position = UDim2.new(0, 10, 0, 5)
title.BackgroundTransparency = 1
title.Text = "SHIFT LOCK PRO"
title.TextColor3 = Color3.fromRGB(255, 100, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = menu

local creator = Instance.new("TextLabel")
creator.Name = "Creator"
creator.Size = UDim2.new(1, -10, 0, 20)
creator.Position = UDim2.new(0, 10, 0, 35)
creator.BackgroundTransparency = 1
creator.Text = "by sherikyt"
creator.TextColor3 = Color3.fromRGB(180, 180, 220)
creator.Font = Enum.Font.Gotham
creator.TextSize = 12
creator.TextXAlignment = Enum.TextXAlignment.Left
creator.Parent = menu

-- Function to create button
local function createButton(name, text, position, icon, color)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Size = UDim2.new(0.9, 0, 0, 40)
    button.Position = position
    button.BackgroundColor3 = color
    button.Text = icon .. " " .. text
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Font = Enum.Font.GothamBold
    button.TextSize = 13
    button.TextWrapped = true
    button.Parent = menu
    
    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 8)
    btnCorner.Parent = button
    
    button.MouseButton1Down:Connect(function()
        button.BackgroundTransparency = 0.3
    end)
    
    button.MouseButton1Up:Connect(function()
        button.BackgroundTransparency = 0
    end)
    
    return button
end

-- Create buttons
local toggleBtn = createButton(
    "ToggleBtn",
    "TOGGLE SHIFT LOCK",
    UDim2.new(0.05, 0, 0, 60),
    "ðŸŽ®",
    Color3.fromRGB(0, 120, 255)
)

local resetBtn = createButton(
    "ResetBtn",
    "RESET CAMERA",
    UDim2.new(0.05, 0, 0, 110),
    "ðŸ”„",
    Color3.fromRGB(60, 60, 80)
)

-- Settings container
local settingsFrame = Instance.new("Frame")
settingsFrame.Name = "SettingsFrame"
settingsFrame.Size = UDim2.new(0.9, 0, 0, 120)
settingsFrame.Position = UDim2.new(0.05, 0, 0, 160)
settingsFrame.BackgroundTransparency = 1
settingsFrame.Parent = menu

-- Sensitivity slider
local sensLabel = Instance.new("TextLabel")
sensLabel.Name = "SensLabel"
sensLabel.Size = UDim2.new(1, 0, 0, 20)
sensLabel.Position = UDim2.new(0, 0, 0, 0)
sensLabel.BackgroundTransparency = 1
sensLabel.Text = "SENSITIVITY: " .. state.sensitivity
sensLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
sensLabel.Font = Enum.Font.Gotham
sensLabel.TextSize = 11
sensLabel.TextXAlignment = Enum.TextXAlignment.Left
sensLabel.Parent = settingsFrame

local sensSlider = Instance.new("Frame")
sensSlider.Name = "SensSlider"
sensSlider.Size = UDim2.new(1, 0, 0, 20)
sensSlider.Position = UDim2.new(0, 0, 0, 20)
sensSlider.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
sensSlider.Parent = settingsFrame
Instance.new("UICorner", sensSlider).CornerRadius = UDim.new(0, 10)

local sensFill = Instance.new("Frame")
sensFill.Name = "SensFill"
sensFill.Size = UDim2.new(state.sensitivity, 0, 1, 0)
sensFill.BackgroundColor3 = Color3.fromRGB(0, 200, 100)
sensFill.Parent = sensSlider
Instance.new("UICorner", sensFill).CornerRadius = UDim.new(0, 10)

local sensHandle = Instance.new("TextButton")
sensHandle.Name = "SensHandle"
sensHandle.Size = UDim2.new(0, 20, 0, 20)
sensHandle.Position = UDim2.new(state.sensitivity, -10, 0, 0)
sensHandle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
sensHandle.Text = ""
sensHandle.Parent = sensSlider
Instance.new("UICorner", sensHandle).CornerRadius = UDim.new(1, 0)

-- FOV slider
local fovLabel = Instance.new("TextLabel")
fovLabel.Name = "FovLabel"
fovLabel.Size = UDim2.new(1, 0, 0, 20)
fovLabel.Position = UDim2.new(0, 0, 0, 50)
fovLabel.BackgroundTransparency = 1
fovLabel.Text = "FOV: " .. state.fov
fovLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
fovLabel.Font = Enum.Font.Gotham
fovLabel.TextSize = 11
fovLabel.TextXAlignment = Enum.TextXAlignment.Left
fovLabel.Parent = settingsFrame

local fovSlider = Instance.new("Frame")
fovSlider.Name = "FovSlider"
fovSlider.Size = UDim2.new(1, 0, 0, 20)
fovSlider.Position = UDim2.new(0, 0, 0, 70)
fovSlider.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
fovSlider.Parent = settingsFrame
Instance.new("UICorner", fovSlider).CornerRadius = UDim.new(0, 10)

local fovFill = Instance.new("Frame")
fovFill.Name = "FovFill"
fovFill.Size = UDim2.new((state.fov - 50) / 50, 0, 1, 0)
fovFill.BackgroundColor3 = Color3.fromRGB(100, 0, 200)
fovFill.Parent = fovSlider
Instance.new("UICorner", fovFill).CornerRadius = UDim.new(0, 10)

local fovHandle = Instance.new("TextButton")
fovHandle.Name = "FovHandle"
fovHandle.Size = UDim2.new(0, 20, 0, 20)
fovHandle.Position = UDim2.new((state.fov - 50) / 50, -10, 0, 0)
fovHandle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
fovHandle.Text = ""
fovHandle.Parent = fovSlider
Instance.new("UICorner", fovHandle).CornerRadius = UDim.new(1, 0)

-- Status
local status = Instance.new("TextLabel")
status.Name = "Status"
status.Size = UDim2.new(0.9, 0, 0, 30)
status.Position = UDim2.new(0.05, 0, 0, 290)
status.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
status.BackgroundTransparency = 0.3
status.Text = "SHIFT LOCK: OFF"
status.TextColor3 = Color3.fromRGB(255, 255, 255)
status.Font = Enum.Font.Gotham
status.TextSize = 11
status.TextWrapped = true
status.Parent = menu

local statusCorner = Instance.new("UICorner")
statusCorner.CornerRadius = UDim.new(0, 8)
statusCorner.Parent = status

-- Toggle menu button
local menuToggleBtn = Instance.new("TextButton")
menuToggleBtn.Name = "MenuToggleBtn"
menuToggleBtn.Size = UDim2.new(0, 40, 0, 40)
menuToggleBtn.Position = UDim2.new(0, 240, 0.5, -20)
menuToggleBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
menuToggleBtn.Text = "â—€"
menuToggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
menuToggleBtn.Font = Enum.Font.GothamBold
menuToggleBtn.TextSize = 18
menuToggleBtn.Parent = gui

local toggleCorner = Instance.new("UICorner")
toggleCorner.CornerRadius = UDim.new(1, 0)
toggleCorner.Parent = menuToggleBtn

-- Crosshair
local crosshair = Instance.new("Frame")
crosshair.Name = "Crosshair"
crosshair.Size = UDim2.new(0, 20, 0, 20)
crosshair.Position = UDim2.new(0.5, -10, 0.5, -10)
crosshair.BackgroundTransparency = 1
crosshair.Visible = false
crosshair.Parent = gui

local crossH = Instance.new("Frame")
crossH.Name = "CrossH"
crossH.Size = UDim2.new(0, 20, 0, 2)
crossH.Position = UDim2.new(0, 0, 0.5, -1)
crossH.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
crossH.BorderSizePixel = 0
crossH.Parent = crosshair

local crossV = Instance.new("Frame")
crossV.Name = "CrossV"
crossV.Size = UDim2.new(0, 2, 0, 20)
crossV.Position = UDim2.new(0.5, -1, 0, 0)
crossV.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
crossV.BorderSizePixel = 0
crossV.Parent = crosshair

-- Shift lock variables
local camera = Workspace.CurrentCamera
local mouse = player:GetMouse()
local lastMousePos = Vector2.new(0, 0)
local yaw = 0
local pitch = 0
local shiftLockConnection = nil

-- Shift lock functions
local function enableShiftLock()
    if state.shiftLockEnabled then return end
    
    state.originalCameraType = camera.CameraType
    state.originalMouseBehavior = UserInputService.MouseBehavior
    
    state.shiftLockEnabled = true
    camera.CameraType = Enum.CameraType.Scriptable
    
    -- Initialize camera angles
    local character = player.Character
    if character then
        local hrp = character:FindFirstChild("HumanoidRootPart")
        if hrp then
            local cf = hrp.CFrame
            local look = cf.LookVector
            yaw = math.atan2(look.Z, look.X)
            pitch = math.asin(look.Y)
        end
    end
    
    crosshair.Visible = true
    status.Text = "SHIFT LOCK: ON"
    toggleBtn.Text = "â¹ï¸ DISABLE SHIFT LOCK"
    
    -- Mouse lock logic
    shiftLockConnection = RunService.RenderStepped:Connect(function(delta)
        if not state.shiftLockEnabled then return end
        
        local character = player.Character
        if not character then return end
        
        local hrp = character:FindFirstChild("HumanoidRootPart")
        if not hrp then return end
        
        -- Get mouse delta
        local mouseDelta = Vector2.new(mouse.Delta.X, mouse.Delta.Y)
        
        -- Apply sensitivity
        yaw = yaw - mouseDelta.X * state.sensitivity * 0.01
        pitch = pitch - mouseDelta.Y * state.sensitivity * 0.01
        
        -- Clamp pitch
        pitch = math.clamp(pitch, -math.pi/2 + 0.1, math.pi/2 - 0.1)
        
        -- Calculate camera position (offset from character)
        local offset = Vector3.new(0, 2, -10)
        
        -- Rotate offset based on yaw
        local rotCF = CFrame.fromEulerAnglesYXZ(0, yaw, 0)
        offset = rotCF:PointToWorldSpace(offset)
        
        -- Set camera position and look direction
        local cameraPos = hrp.Position + offset
        local lookDir = Vector3.new(math.cos(yaw) * math.cos(pitch), math.sin(pitch), math.sin(yaw) * math.cos(pitch))
        
        camera.CFrame = CFrame.new(cameraPos, cameraPos + lookDir)
        camera.FieldOfView = state.fov
        
        -- Lock mouse to center
        if mouseDelta.Magnitude > 0 then
            mouse.TargetFilter = Workspace
            mouseBehavior = Enum.MouseBehavior.LockCenter
        end
    end)
end

local function disableShiftLock()
    if not state.shiftLockEnabled then return end
    
    state.shiftLockEnabled = false
    
    if shiftLockConnection then
        shiftLockConnection:Disconnect()
        shiftLockConnection = nil
    end
    
    camera.CameraType = state.originalCameraType or Enum.CameraType.Custom
    UserInputService.MouseBehavior = state.originalMouseBehavior or Enum.MouseBehavior.Default
    
    crosshair.Visible = false
    status.Text = "SHIFT LOCK: OFF"
    toggleBtn.Text = "ðŸŽ® ENABLE SHIFT LOCK"
end

local function toggleShiftLock()
    if state.shiftLockEnabled then
        disableShiftLock()
    else
        enableShiftLock()
    end
end

local function resetCamera()
    disableShiftLock()
    
    if camera then
        camera.CameraType = Enum.CameraType.Custom
        camera.FieldOfView = 70
    end
    
    status.Text = "CAMERA RESET"
end

-- Button events
toggleBtn.MouseButton1Click:Connect(toggleShiftLock)
resetBtn.MouseButton1Click:Connect(resetCamera)

-- Slider dragging
local dragging = nil

local function updateSensitivity(value)
    state.sensitivity = math.clamp(value, 0.1, 2)
    sensLabel.Text = "SENSITIVITY: " .. string.format("%.1f", state.sensitivity)
    sensFill.Size = UDim2.new(state.sensitivity / 2, 0, 1, 0)
    sensHandle.Position = UDim2.new(state.sensitivity / 2, -10, 0, 0)
end

local function updateFOV(value)
    state.fov = math.clamp(value, 50, 100)
    fovLabel.Text = "FOV: " .. state.fov
    fovFill.Size = UDim2.new((state.fov - 50) / 50, 0, 1, 0)
    fovHandle.Position = UDim2.new((state.fov - 50) / 50, -10, 0, 0)
    
    if camera then
        camera.FieldOfView = state.fov
    end
end

sensHandle.MouseButton1Down:Connect(function()
    dragging = "sens"
end)

fovHandle.MouseButton1Down:Connect(function()
    dragging = "fov"
end)

RunService.Heartbeat:Connect(function()
    if dragging then
        local mousePos = game:GetService("Players").LocalPlayer:GetMouse()
        
        if dragging == "sens" then
            local slider = sensSlider
            local absPos = slider.AbsolutePosition.X
            local absSize = slider.AbsoluteSize.X
            
            local relative = math.clamp((mousePos.X - absPos) / absSize, 0, 1)
            local value = 0.1 + relative * 1.9
            updateSensitivity(value)
            
        elseif dragging == "fov" then
            local slider = fovSlider
            local absPos = slider.AbsolutePosition.X
            local absSize = slider.AbsoluteSize.X
            
            local relative = math.clamp((mousePos.X - absPos) / absSize, 0, 1)
            local value = 50 + relative * 50
            updateFOV(value)
        end
    end
end)

game:GetService("UserInputService").InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = nil
    end
end)

-- Hotkey (Shift to toggle)
UserInputService.InputBegan:Connect(function(input, processed)
    if not processed and input.KeyCode == Enum.KeyCode.LeftShift then
        toggleShiftLock()
    end
end)

-- Toggle menu
menuToggleBtn.MouseButton1Click:Connect(function()
    state.menuVisible = not state.menuVisible
    
    if state.menuVisible then
        menu.Position = UDim2.new(0, 10, 0.5, -150)
        menuToggleBtn.Position = UDim2.new(0, 240, 0.5, -20)
        menuToggleBtn.Text = "â—€"
    else
        menu.Position = UDim2.new(-1, 0, 0.5, -150)
        menuToggleBtn.Position = UDim2.new(0, 10, 0.5, -20)
        menuToggleBtn.Text = "â–¶"
    end
end)

-- Auto-disable on death
player.CharacterAdded:Connect(function()
    disableShiftLock()
end)

-- Cleanup
gui.Destroying:Connect(function()
    disableShiftLock()
end)

-- Initial setup
updateSensitivity(state.sensitivity)
updateFOV(state.fov)

print("ShiftLock Cheat by sherikyt loaded")
print("Hotkey: Left Shift to toggle")
print("Use menu to adjust sensitivity and FOV")
