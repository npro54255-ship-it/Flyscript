-- BlackHole Cheat by sherikyt
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

local config = {
    force = 5000,
    radius = 50,
    distance = 200,
    rotation = 50
}

local state = {
    active = false,
    position = nil,
    parts = {},
    connection = nil,
    core = nil,
    menuVisible = true
}

-- Create GUI
local gui = Instance.new("ScreenGui")
gui.Name = "BlackHoleGUI"
gui.ResetOnSpawn = false
gui.Parent = playerGui

-- Main menu
local menu = Instance.new("Frame")
menu.Name = "MainMenu"
menu.Size = UDim2.new(0, 200, 0, 180)
menu.Position = UDim2.new(0, 10, 0.5, -90)
menu.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
menu.BackgroundTransparency = 0.1
menu.Parent = gui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = menu

-- Title
local title = Instance.new("TextLabel")
title.Name = "Title"
title.Size = UDim2.new(1, -10, 0, 30)
title.Position = UDim2.new(0, 10, 0, 5)
title.BackgroundTransparency = 1
title.Text = "BLACK HOLE"
title.TextColor3 = Color3.fromRGB(255, 100, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = menu

local creator = Instance.new("TextLabel")
creator.Name = "Creator"
creator.Size = UDim2.new(1, -10, 0, 20)
creator.Position = UDim2.new(0, 10, 0, 35)
creator.BackgroundTransparency = 1
creator.Text = "by sherikyt"
creator.TextColor3 = Color3.fromRGB(180, 180, 220)
creator.Font = Enum.Font.Gotham
creator.TextSize = 12
creator.TextXAlignment = Enum.TextXAlignment.Left
creator.Parent = menu

-- Function to create button
local function createButton(name, text, position, icon, color)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Size = UDim2.new(0.9, 0, 0, 35)
    button.Position = position
    button.BackgroundColor3 = color
    button.Text = icon .. " " .. text
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Font = Enum.Font.GothamBold
    button.TextSize = 12
    button.TextWrapped = true
    button.Parent = menu
    
    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 8)
    btnCorner.Parent = button
    
    button.MouseButton1Down:Connect(function()
        button.BackgroundTransparency = 0.3
    end)
    
    button.MouseButton1Up:Connect(function()
        button.BackgroundTransparency = 0
    end)
    
    return button
end

-- Create buttons
local selectBtn = createButton(
    "SelectBtn",
    "SELECT POSITION",
    UDim2.new(0.05, 0, 0, 60),
    "üìç",
    Color3.fromRGB(0, 120, 255)
)

local blackholeBtn = createButton(
    "BlackholeBtn",
    "BLACK HOLE",
    UDim2.new(0.05, 0, 0, 105),
    "üåå",
    Color3.fromRGB(150, 0, 255)
)

-- Toggle button
local toggleBtn = Instance.new("TextButton")
toggleBtn.Name = "ToggleBtn"
toggleBtn.Size = UDim2.new(0, 40, 0, 40)
toggleBtn.Position = UDim2.new(0, 220, 0.5, -20)
toggleBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
toggleBtn.Text = "‚óÄ"
toggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextSize = 18
toggleBtn.Parent = gui

local toggleCorner = Instance.new("UICorner")
toggleCorner.CornerRadius = UDim.new(1, 0)
toggleCorner.Parent = toggleBtn

-- Status
local status = Instance.new("TextLabel")
status.Name = "Status"
status.Size = UDim2.new(0.9, 0, 0, 30)
status.Position = UDim2.new(0.05, 0, 0, 150)
status.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
status.BackgroundTransparency = 0.3
status.Text = "READY"
status.TextColor3 = Color3.fromRGB(255, 255, 255)
status.Font = Enum.Font.Gotham
status.TextSize = 11
status.TextWrapped = true
status.Parent = menu

local statusCorner = Instance.new("UICorner")
statusCorner.CornerRadius = UDim.new(0, 8)
statusCorner.Parent = status

-- Black hole functions
local function createMarker(pos)
    local oldMarker = Workspace:FindFirstChild("BH_Marker")
    if oldMarker then
        oldMarker:Destroy()
    end
    
    local marker = Instance.new("Part")
    marker.Name = "BH_Marker"
    marker.Size = Vector3.new(2, 2, 2)
    marker.Position = pos
    marker.Anchored = true
    marker.CanCollide = false
    marker.Color = Color3.fromRGB(0, 200, 255)
    marker.Transparency = 0.3
    marker.Parent = Workspace
    
    return marker
end

local function collectParts()
    state.parts = {}
    
    for _, obj in pairs(Workspace:GetDescendants()) do
        if obj:IsA("BasePart") and not obj.Anchored then
            if obj.Name == "BH_Marker" then
                continue
            end
            
            if player.Character and obj:IsDescendantOf(player.Character) then
                continue
            end
            
            if state.position then
                local dist = (obj.Position - state.position).Magnitude
                if dist <= config.distance then
                    table.insert(state.parts, obj)
                end
            else
                table.insert(state.parts, obj)
            end
        end
    end
    
    return #state.parts
end

local function toggleBlackHole()
    if not state.position then
        status.Text = "SELECT POSITION FIRST"
        return
    end
    
    if state.active then
        -- Stop
        if state.core then
            state.core:Destroy()
            state.core = nil
        end
        
        if state.connection then
            state.connection:Disconnect()
            state.connection = nil
        end
        
        for _, part in pairs(state.parts) do
            if part and part.Parent then
                local v = part:FindFirstChild("BH_V")
                local g = part:FindFirstChild("BH_G")
                if v then v:Destroy() end
                if g then g:Destroy() end
            end
        end
        
        state.active = false
        state.parts = {}
        blackholeBtn.Text = "üåå BLACK HOLE"
        status.Text = "STOPPED"
        return
    end
    
    -- Start
    local partCount = collectParts()
    if partCount == 0 then
        status.Text = "NO PARTS FOUND"
        return
    end
    
    state.active = true
    blackholeBtn.Text = "‚èπÔ∏è STOP"
    
    -- Create core
    state.core = Instance.new("Part")
    state.core.Name = "BH_Core"
    state.core.Size = Vector3.new(5, 5, 5)
    state.core.Position = state.position
    state.core.Anchored = true
    state.core.CanCollide = false
    state.core.Color = Color3.fromRGB(0, 0, 0)
    state.core.Transparency = 0.3
    state.core.Parent = Workspace
    
    -- Physics loop
    state.connection = RunService.Heartbeat:Connect(function(delta)
        if not state.active then return end
        
        for _, part in pairs(state.parts) do
            if part and part.Parent then
                local dist = (part.Position - state.position).Magnitude
                
                if dist <= config.distance then
                    local velocity = part:FindFirstChild("BH_V")
                    local gyro = part:FindFirstChild("BH_G")
                    
                    if not velocity then
                        velocity = Instance.new("BodyVelocity")
                        velocity.Name = "BH_V"
                        velocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
                        velocity.P = 10000
                        velocity.Parent = part
                        
                        gyro = Instance.new("BodyGyro")
                        gyro.Name = "BH_G"
                        gyro.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
                        gyro.P = 10000
                        gyro.Parent = part
                    end
                    
                    local dir = (state.position - part.Position).Unit
                    local force = config.force * (1 - dist / config.distance)
                    local tangent = dir:Cross(Vector3.new(0, 1, 0)).Unit
                    local orbit = config.rotation * (config.radius / math.max(dist, 1))
                    
                    velocity.Velocity = dir * force + tangent * orbit
                end
            end
        end
    end)
    
    status.Text = "ACTIVE - PARTS: " .. partCount
end

-- Button events
selectBtn.MouseButton1Click:Connect(function()
    local camera = Workspace.CurrentCamera
    if camera and player.Character then
        local hrp = player.Character:FindFirstChild("HumanoidRootPart")
        if hrp then
            state.position = hrp.Position + Vector3.new(0, 2, 0)
            createMarker(state.position)
            status.Text = "POSITION SET"
        end
    end
end)

blackholeBtn.MouseButton1Click:Connect(toggleBlackHole)

-- Toggle menu
toggleBtn.MouseButton1Click:Connect(function()
    state.menuVisible = not state.menuVisible
    
    if state.menuVisible then
        menu.Position = UDim2.new(0, 10, 0.5, -90)
        toggleBtn.Position = UDim2.new(0, 220, 0.5, -20)
        toggleBtn.Text = "‚óÄ"
    else
        menu.Position = UDim2.new(-1, 0, 0.5, -90)
        toggleBtn.Position = UDim2.new(0, 10, 0.5, -20)
        toggleBtn.Text = "‚ñ∂"
    end
end)

-- Cleanup
gui.Destroying:Connect(function()
    if state.connection then
        state.connection:Disconnect()
    end
    
    local marker = Workspace:FindFirstChild("BH_Marker")
    if marker then
        marker:Destroy()
    end
    
    if state.core then
        state.core:Destroy()
    end
end)

print("BlackHole Cheat by sherikyt loaded")
